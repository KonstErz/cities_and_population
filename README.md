# Города и население

### Проект реализован с использованием стека:  

+ Python (3.8.2)  
+ Django (3.1.2)  
+ django-tables2 (2.3.2)  
+ PostgreSQL  
+ Docker Engine (19.03.8)  

---

### Структура проекта:  

1. **Сущности:**  

+ *Континенты*, представляют собой часть света, например: Америка, Европа, Азия и т.д.  
+ *Страны*, относящиеся к определенной части света, например: США, Россия, Франция, Китай и т.д.  
+ *Города* - населенные пункты, относящиеся к конкретной стране и части света. Имеют название и численность населения (тыс. чел.)  

2. **Ресурсы:**  

+ *Административная панель* (http://localhost:8000/admin/)  
+ *Авторизация (root)* (http://localhost:8000/login/) - аутентификация и логин пользователя в системе, перенаправление на страницу со списком городов  
+ *Регистрация пользователя* (http://localhost:8000/signup/) - регистрация нового пользователя в системе, аутентификация и логин с перенаправлением на страницу со списком городов  
+ *Выход* (http://localhost:8000/logout/) - логаут пользователя  
+ *Список городов* (http://localhost:8000/cities/) - отображение списка городов в виде таблиц, разделенных по континентам. Поддерживает сортировку по колонкам: название города и численность населения  

---


### Запуск:

1. Команда на сборку образа и запуск контейнера из корневой папки проекта:

    ```
    docker-compose up -d --build
    ```

2. Создание суперпользователя:

    ```
    docker-compose exec cnp python manage.py createsuperuser
    ```

3. Переход на главную страницу http://localhost:8000/ или в админ. панель http://localhost:8000/admin/

4. Завершение работы:  
    
    docker-compose down -v   # Удалить все тома вместе с контейнерами
    docker images       # Вывод списка всех запущенных образов
    docker images -a    # Вывод списка всех доступных образов
    docker rmi <Image_ID>    # Удаление конкретного образа по ID
    docker rmi $(docker images -f dangling=true -q)    # Удаление всех образов, не помеченных тэгами
    docker rmi $(docker images -a -q)    # Удаление всех образов
    
